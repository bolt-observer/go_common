package utils

import (
	"strings"
	"testing"
)

func TestSafeBase64Decode(t *testing.T) {
	a := "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNOVENDQWRxZ0F3SUJBZ0lSQU1PV2pQUWYyKzlobDVrWElNaFdIMUF3Q2dZSUtvWkl6ajBFQXdJd0xqRWYKTUIwR0ExVUVDaE1XYkc1a0lHRjFkRzluWlc1bGNtRjBaV1FnWTJWeWRERUxNQWtHQTFVRUF4TUNiRzR3SGhjTgpNakV3T1RJME1UY3pPVEF4V2hjTk1qSXhNVEU1TVRjek9UQXhXakF1TVI4d0hRWURWUVFLRXhac2JtUWdZWFYwCmIyZGxibVZ5WVhSbFpDQmpaWEowTVFzd0NRWURWUVFERXdKc2JqQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCSEs1VStQYXpDU2JjTW1mMUJucTFDY2xteU1nOGMvUkhhcXNabnpJKzErNjJnR2wyNk4vM2ZrZwpGdzV2dUtUMS9zWEVLblhUSE9LYUNSL1lkaklVNUQ2amdkZ3dnZFV3RGdZRFZSMFBBUUgvQkFRREFnS2tNQk1HCkExVWRKUVFNTUFvR0NDc0dBUVVGQndNQk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZIanEKQ3RnVFRZTmdDTU85OUZBS2dJSEF4NUlnTUg0R0ExVWRFUVIzTUhXQ0FteHVnZ2xzYjJOaGJHaHZjM1NDRFd4dQpMbVY0WldOMlpTNXZjbWVDQkhWdWFYaUNDblZ1YVhod1lXTnJaWFNDQjJKMVptTnZibTZIQkg4QUFBR0hFQUFBCkFBQUFBQUFBQUFBQUFBQUFBQUdIQk1Db1FCZUhCS3dSQUFHSEVQNkFBQUFBQUFBQTNxWXkvLzQ4SmFxSEJGblUKL2VZd0NnWUlLb1pJemowRUF3SURTUUF3UmdJaEFOVTlDWHYxajZQVk9oQzZMMFp1Y3Z1WnVtb0tjb1NnTTFLTgpYR1E3eUNSQUFpRUF3N0ZiZ05qSHUvQVFveDJONTl2alFRTjI0NzlwSTRQT0c1MUFDbWI2SlhjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg"
	for i := 0; i < 10; i++ {
		_, err := SafeBase64Decode(a + strings.Repeat("=", i))
		if err != nil {
			t.Fatalf("Decode failed")
		}
	}
}
